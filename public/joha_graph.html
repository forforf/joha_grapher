<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Joha -- Find, Connect, Organize</title>

<!-- CSS Files -->
<link type="text/css" href="./default.css" rel="stylesheet" >
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/themes/base/jquery-ui.css" id="theme" >
<link type="text/css" href="./jquery-ui-custom.css" rel="stylesheet" >
<link type="text/css" href="./joha_graph.css" rel="stylesheet" >
<link type="text/css" href="./dynform.css" rel="stylesheet" >

<!--[if IE]><script language="javascript" type="text/javascript" src="../javascripts/jit/Extras/excanvas.js"></script><![endif]-->

<!-- JIT Library File -->
<script language="javascript" type="application/javascript" src="jit.js"></script>
<script language="javascript" type="application/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script language="javascript" type="application/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js"></script>
<script language="javascript" type="application/javascript" src="jquery.jeditable.js"></script>
<script language="javascript" type="application/javascript" src="joha_helpers.js"></script>
<script language="javascript" type="application/javascript" src="dynform.js"></script>


<!-- Main script file -->
<script language="javascript" type="application/javascript" src="joha_graph.js"></script>
<script language="javascript" type="application/javascript" src="accordian-src.js"></script>


</head>

<body onload="new Accordian('basic-accordian',5,'header_highlight');">

  <div id="main-header">
    <div id="main-header-wrapper">
      <div id="main-header-text">Joha  -  Find, Connect, Organize</div>
    </div>
  </div>
  <div id="container">
    <div id="left-container">
      <div id="basic-accordian" ><!--Parent of the Accordion-->
        <!--Start of each accordion item-->
        <div id="test-header" class="accordion_headings header_highlight" >Menu</div><!--Heading of the accordion ( clicked to show n hide ) -->
        <div id="test-content"><!--DIV which show/hide on click of header-->
          <!--This DIV is for inline styling like padding...-->
          <div class="accordion_child">
            <div style="text-align:left;"><a href="/bufs_info_doc/log_out">Sign Out</a></div>
            <div style="text-align:left;"> <a href="/bufs_info_doc/export_to_file">Export to File System</a> </div>
          </div>
        </div>
        <!--End of each accordion item--> 

        <!--Start of each accordion item-->
        <div id="background-header" class="accordion_headings" >Background</div><!--Heading of the accordion ( clicked to show n hide ) -->
        <div id="background-content"><!--DIV which show/hide on click of header-->
          <!--This DIV is for inline styling like padding...-->
          <div class="accordion_child_wide">
              <h4>
              Relationships as a Tree   
              </h4> 
                    User data is provided in a tree structure with the root node being the User's Id.  Updates to the data
                    structure are reflected in the animation after successful update to the server.<br/><br/>
                    Clicking on the background canvas allows a new node to be created.<br/><br/>
                    Clicking on an existing node should move the tree and center on that node.<br/><br/>
                    The centered node's information is displayed in the right column and can be edited.<br/><br/>
              <div class="footnote">
                    The current data visualization scheme is heavily based on <a href="http://blog.thejit.org/">Nicolas Garcia Belmonte's</a>
                    <a href="http://thejit.org"> JavaScript InfoVis Toolkit.</a>.  <br /><br />
              </div>
          </div>
        </div>
        <!--End of each accordion item--> 

        <!--Start of each accordion item-->
        <div id="test2-header" class="accordion_headings" >New Feature Test Area</div><!--Heading of the accordion ( clicked to show n hide ) -->
        <div id="test2-content"><!--DIV which show/hide on click of header-->
          <!--This DIV is for inline styling like padding...-->
          <div class="accordion_child">
            <a href="/bufs_info_doc/import_from_file">Import from File System</a>
          </div>
        </div>
        <!--End of each accordion item--> 
   
       </div><!--End of accordion parent-->
    </div>


    <div id="center-container">
      <div id="infovis"></div>    
    </div>

    <div id="right-container">
      <div id="node_id_tracker">
         Current Node ID: <span id="current_node_id"></span>
      </div>
      <div id="node-finder">
        <input id="node-finder-textbox" name="node-finder-textbox" type="text" />
        Find Node
      </div>
      <div id="create-node-form" class="node-forms">
        <div id="node_creator">
          Create New Node Form
          <fieldset>
             <legend><small>New Node</small></legend>
            <b>Node ID</b><br/>
            <input id="create_node_id" name="create_node_id" type="text" />
            <p>
            <b>Node Label</b><br/>
            <input id="create_node_label" name="create_node_label" type="text" />
            </p>
            <p>
            <b>Parents</b><br/>
            <input id="create_node_parents" name="create_node_parents" type="text" />
            </p>
            <p>
             <b> Add Attachment  -- Not working yet</b><br/>
             <input name="add_attachment" type="file" />
            </p>
            <p>
            <input id="create_node" name="commit_create_node" value="Create Node" type="submit" />
          </p>
          </fieldset>
         </div>
      </div>


      <div id="edit-node-form" class="node-forms" style="display:none">
        <div id="node_editor">
          <fieldset>
            <legend>
              Edit Node: <span id="joha-edit-label--" class="edit"></span>
            </legend>
            <div id="edit-node-data">
              <div id="dynamic_node_data_all">
                <div id="dn_node_data"></div>
                <div id="dn_link_data"></div>
                <div id="dn_file_data"></div>
                  <span id="attachment_label">File Attachments</span>
                  <div id="file_attachment_list" class="attachment_list">No Node Selected</div>
                  <div id="pending_file_attachments" class="pending_attachment_list"></div>
                  <div id="add_attach" class="element-list">
                    <span class="show_add_attach_form clickable">Add new attachments</span>
                  </div>
             
                  <form id="add_attach_form" action="/upload_files"  method="post" enctype="multipart/form-data" style="display:none">
  
                    <input id="authtok_attach_form" type="hidden" value=" " name="authenticity_token">
                    <input id="node_id_input_edit" name="node_id" type="hidden" />

                    <div id="att_button_area">
                      <b>Add Attachments  </b><span class="hide_add_attach_form clickable">hide this again</span> <br />
                      <input id="add_attach_edit" name="add_files[]" type="file" multiple="multiple"/>
                      <input class="ready_attachment_button" name="action" value="See Pending Files" type="button"  />
                      <input class="upload_attachment_button" name="uploadFiles" value="Upload to Node" type="button"  />
                    </div>

                    <iframe id="files_uploaded_iframe" name="files_uploaded_iframe" src="" style="display:none">
                    </iframe>

                  </form>

                </div>
              </div>
            </div>
          </fieldset>
        <div id="save_node_data">
          Save
        </div>
        <div id="clear_node_edits">
          Clear
        </div>        
      </div>


      <div id="destroy-node-form" style="display:none;">
        <b>Destroy Node</b>
          <p>
            <b>Node Tag</b><br>
            <input id="node_cat_destroy" name="node_cat" type="text">
          </p>

          <p>
            <input name="commit" value="Submit" type="submit" onclick="javascript:destroy_node_data()">
          </p>
      </div>


      <div id="inner-details"></div>
      <div id="descendant-info">
        <div id="descendant-header">
          Descendant Info
          <a class="desc-toggler" href="javascript:toggle('desc-nodes');">Nodes</a>
          <a class="desc-toggler" href="javascript:toggle('desc-files');">Files</a>
          <a class="desc-toggler" href="javascript:toggle('desc-links');">Links</a>
        </div>
        <div class="desc-stuff" id="desc-nodes" style="display:none">
          
        </div>
        <div class="desc-stuff" id="desc-files" style="display:none">
          
        </div>
        <div class="desc-stuff" id="desc-links" style="display:none">
          
        </div>
      </div>

    </div>

  </div>
  <div id="log"></div>
  </div>
</body>
</html>
